var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,l=(t,r,a)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,o=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&l(e,r,t[r]);if(a)for(var r of a(t))n.call(t,r)&&l(e,r,t[r]);return e},c=(e,a)=>t(e,r(a)),m=(e,t)=>{var r={};for(var l in e)s.call(e,l)&&t.indexOf(l)<0&&(r[l]=e[l]);if(null!=e&&a)for(var l of a(e))t.indexOf(l)<0&&n.call(e,l)&&(r[l]=e[l]);return r};import{f as i,c as p,u,r as d,R as h,Q as E,a as g,b as x,d as f,e as b,g as y,P as v,B as w,S as N,h as C}from"./vendor.11d41496.js";let P;const S={},O=function(e,t){if(!t)return e();if(void 0===P){const e=document.createElement("link").relList;P=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in S)return;S[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":P,t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((e,t)=>{a.addEventListener("load",e),a.addEventListener("error",t)})):void 0}))).then((()=>e()))};var I={apiKey:"AIzaSyCaHABe9SCJGNE2zSw8IHBzQ1o_CSFacl8",authDomain:"web-p2p.firebaseapp.com",projectId:"web-p2p",storageBucket:"web-p2p.appspot.com",messagingSenderId:"309978278112",appId:"1:309978278112:web:58895067ec1e9ca3b8c885"};i.apps.length||i.initializeApp(I),i.firestore();const _=i.auth(),B={email:"",displayName:"",uid:"",isLoading:!0},L=p({name:"user",initialState:B,reducers:{addUser:(e,{payload:t})=>c(o({},t),{isLoading:!1}),removeUser:e=>c(o({},B),{isLoading:!1})}}),{actions:{addUser:k,removeUser:j},reducer:A}=L,D=A,T={0:"#EEB76B",1:"#9C3D54",2:"#BECA5C",3:"#F3C583",4:"#C64756",5:"#FF75A0",6:"#99B898",7:"#B49C73",8:"#12D3CF",9:"#FCCB8F"},F=()=>{const e=Math.floor(10*Math.random());return T[e]},z={show:!1,type:"info",text:""},H=d.exports.createContext(c(o({},z),{setToastProps:()=>{}})),M=()=>{const{type:e,setToastProps:t,show:r,text:a}=d.exports.useContext(H);return d.exports.useEffect((()=>{r&&setTimeout((()=>t({show:!1})),3e3)}),[r]),r?h.createElement("div",{className:"lg:w-4/12 w-11/12 fixed bottom-5 left-5 text-highlight p-4 bg-secondryBack shadow-lg rounded-md"},a):h.createElement("div",null)},U=({children:e})=>{const[t,r]=d.exports.useState(z);(()=>{const e=u();d.exports.useEffect((()=>{const t=_.onAuthStateChanged((t=>{if(t)return e(k({email:t.email,displayName:t.displayName,uid:t.uid,avatar:`https://robohash.org/${Math.floor(99*Math.random())}`}));e(j())}));return()=>{t()}}),[])})();const a=d.exports.useCallback((e=>r(o(o({},t),e))),[]),s=new E;return h.createElement(g,{client:s},h.createElement(H.Provider,{value:c(o({},t),{setToastProps:a})},e,h.createElement(M,null)))},R=x({reducer:{user:D}}),$=f((e=>e),(e=>e.user));var G="/assets/401.b6c85248.svg";const V=e=>new Date(e).toLocaleString().split(" ")[1].substr(0,5),Q=()=>(new Date).toLocaleTimeString().split(" ")[0].substr(0,4),W=e=>{var t=e,{children:r,className:a}=t,s=m(t,["children","className"]);return h.createElement("button",o({className:`${a} center text-sm py-2 px-3 text-white bg-primary rounded-sm`},s),r)},q=()=>h.createElement("div",{style:{borderTopColor:"#57837B"},className:"p-3 animate-spin border-secondryBack border-4 w-8 h-8 rounded-full"}),J=()=>h.createElement("section",{className:"h-screen center"},h.createElement(q,null)),K=d.exports.memo((()=>{const{setToastProps:e}=d.exports.useContext(H),{uid:t,displayName:r,isLoading:a}=b($),s=d.exports.useCallback((async()=>{try{await _.signInWithPopup(new i.auth.GoogleAuthProvider)}catch(t){e({show:!0,text:"Something went wrong!",type:"danger"})}}),[]);return a?h.createElement(q,null):h.createElement("section",null,t?h.createElement("div",{className:"center"},h.createElement("div",null,h.createElement("img",{src:"https://robohash.org/logo",alt:"P2P user",className:"w-12 h-12 ml-2 rounded-full"})),h.createElement("div",{className:"flex flex-col mt-2 mx-2 items-start"},h.createElement("h2",{className:"text-base"}," ",r," "),h.createElement("button",{onClick:()=>_.signOut(),className:"text-sm text-primary"}," ","Signout"," "))):h.createElement(W,{onClick:s}," Signin with Google "))}));const X=()=>{const[e,t]=d.exports.useState(Q());return d.exports.useEffect((()=>{const e=setInterval((()=>{t(Q())}),1e3);return()=>{clearInterval(e)}}),[]),e},Y=()=>{const e=X();return h.createElement("header",{className:"w-10/12 text-highlight flex justify-between items-center mx-auto"},h.createElement("section",{className:"py-5"},h.createElement("img",{src:"/assets/logo.f7634041.svg",className:"w-10 h-10"})),h.createElement("section",{className:"text-sm my-2 items-center flex"},h.createElement("p",{className:"sm:mx-5 mx-0"},e," â€¢ ",(()=>{const e=new Date;return Intl.DateTimeFormat("en-US",{month:"short",day:"2-digit",weekday:"short"}).format(e)})()),h.createElement(K,null)))},Z=()=>h.createElement(h.Fragment,null,h.createElement(Y,null),h.createElement("section",{className:"h-screen flex-col center"},h.createElement("h2",{className:"text-3xl text-highlight mb-20"},"Opps! Please login and try again."),h.createElement("img",{src:G,className:"w-3/12"}))),ee=e=>{var t=e,{component:r}=t,a=m(t,["component"]);const s=r,{uid:n,isLoading:l}=b($),i=d.exports.useCallback((()=>l?h.createElement(J,null):n?h.createElement(s,null):h.createElement(Z,null)),[n,l]);return h.createElement(y,c(o({},a),{render:i}))},te=e=>{var t=e,{src:r,message:a,children:s}=t,n=m(t,["src","message","children"]);return h.createElement("div",{className:"flex flex-col"},h.createElement("img",c(o({},n),{src:r,className:"w-9/12 mx-auto"})),h.createElement("div",{className:"mt-5 text-center"},a," ",s))},re=({title:e})=>h.createElement("h2",{className:"text-xl lg:text-3xl"}," ",e," "),ae=({title:e})=>h.createElement("h2",{className:"text-2xl lg:text-3xl"}," ",e," ");class se extends h.Component{constructor(e){super(e),this.state={hasError:!1,error:""}}static getDerivedStateFromError(e){return{hasError:!0,error:e.message}}render(){const{hasError:e,error:t}=this.state;return e?h.createElement("section",{className:"w-1/2 mx-auto flex-col text-highlight h-screen center"},h.createElement(re,{title:"Opps, Something went wrong!"}),h.createElement(te,{alt:"Hello App",src:G,message:this.state.error}),"Permission denied"===t&&h.createElement("p",null,"Please give permisson to access video and audio in order to use Hello App.")):this.props.children}}const ne=h.lazy((()=>O((()=>import("./create-meeting.page.3186c1c6.js")),["/assets/create-meeting.page.3186c1c6.js","/assets/create-meeting.page.8bc0bd0c.css","/assets/vendor.11d41496.js","/assets/globals.0f0cfca2.js"]))),le=h.lazy((()=>O((()=>import("./meeting-area.page.95b4d7f2.js")),["/assets/meeting-area.page.95b4d7f2.js","/assets/meeting-area.page.29925b8b.css","/assets/vendor.11d41496.js","/assets/globals.0f0cfca2.js"]))),oe=h.lazy((()=>O((()=>import("./meeting-left.page.5c14ca60.js")),["/assets/meeting-left.page.5c14ca60.js","/assets/vendor.11d41496.js"])));function ce(){return h.createElement(se,null,h.createElement(v,{store:R},h.createElement(U,null,h.createElement(w,null,h.createElement(d.exports.Suspense,{fallback:h.createElement("p",null," Loading.... ")},h.createElement(N,null,h.createElement(ee,{path:"/:meetingId",exact:!0,component:le}),h.createElement(y,{path:"/",exact:!0,component:ne}),h.createElement(y,{path:"/:meetingId/bye",exact:!0,component:oe})))))))}C.render(h.createElement(h.StrictMode,null,h.createElement(ce,null)),document.getElementById("root"));export{Y as C,ae as H,te as I,W as P,re as S,H as T,V as a,F as g,$ as s,X as u};
